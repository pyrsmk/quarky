function getScrollElement(){return scrollElement||(document.body.scrollTop+=1,document.body.scrollLeft+=1,scrollElement=document.body.scrollTop||document.body.scrollLeft?document.body:document.documentElement,document.body.scrollTop-=1,document.body.scrollLeft-=1),scrollElement}!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.W=e()}(this,function(){function t(){var t;if("orientation"in window){var e=window.orientation;t=90==e||e==-90}else t=window.innerWidth>window.innerHeight;return t?"landscape":"portrait"}function e(e){var n=screen.width,o=screen.height;if("landscape"==t()&&n<o&&(n=screen.height,o=screen.width),e)return{width:n,height:o};var i=window.innerWidth,d=window.innerHeight;return(!i||!d||i>n||d>o||980==i)&&(i=window.outerWidth,d=window.outerHeight),(!i||!d||i>n||d>o)&&(i=screen.availWidth,d=screen.availHeight),{width:i,height:d}}var n=[],o=!1,i=!1,d=!1;window.addEventListener?("onorientationchange"in window&&(i=!0,window.addEventListener("orientationchange",function(){d=!0},!1)),window.addEventListener("resize",function(){o=!0},!1)):window.attachEvent("onresize",function(){o=!0}),setInterval(function(){var t=!1;if(i?d&&o&&(t=!0):o&&(t=!0),t&&document.documentElement.clientWidth){d=!1,o=!1;for(var e=0,r=n.length;e<r;++e)n[e].func()}},10);var r={getViewportDimensions:function(t){return e(t)},getViewportWidth:function(t){return e(t).width},getViewportHeight:function(t){return e(t).height},getOrientation:function(){return t()},addListener:function(t,e){return n.push({func:t,key:e}),t},removeListener:function(t){for(var e=0,o=n.length;e<o;++e)if(n[e].key==t){n.splice(e,1);break}},clearListeners:function(){n=[]},trigger:function(t){for(var e=0,o=n.length;e<o;++e)"undefined"!=typeof t&&n[e].key!=t||n[e].func()}};return r});var $=quark.$,$$=quark.$$,scrollElement;$._nodeMethods.css=function(t,e){var n=function(t){return t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})},o=function(t,e,o){if(e=n(e),"opacity"==e)try{t.filters["DXImageTransform.Microsoft.Alpha"].opacity=100*o}catch(e){try{t.filters("alpha").opacity=100*o}catch(e){t.style.opacity=o}}else t.style[e]=o},i=function(t,e){if(e=n(e),"opacity"==e)try{return t.filters["DXImageTransform.Microsoft.Alpha"].opacity/100}catch(e){try{return t.filters("alpha").opacity/100}catch(e){return t.style.opacity}}return t.style[e]||null};if("string"==typeof t)return void 0===e?i(this.node,t):(o(this.node,t,e),this);if("object"==typeof t){for(var d in t)o(this.node,d,t[d]);return this}},$._nodeMethods.html=function(t){return void 0===t?"IFRAME"==this.node.nodeName?this.node.src.substr(29):this.node.innerHTML:("IFRAME"==this.node.nodeName?this.node.src="data:text/html;charset=utf-8,"+encodeURI(t):this.node.innerHTML=t,this)},$._nodeMethods.text=function(t){return void 0===t?"textContent"in this.node?this.node.textContent:this.node.innerText:("textContent"in this.node?this.node.textContent=t:this.node.innerText=t,this)},$._nodeMethods.attr=function(t,e){var n,o;if("string"==typeof t)return void 0===e?this.node.getAttribute(t):null===e?(this.node.removeAttribute(t),this):(this.node.setAttribute(t,e),this);if("object"==typeof t){for(o in t)this.node.setAttribute(n,t[o]);return this}},$._nodeMethods.data=function(t,e){var n;if(void 0===t){var o,i={},d=this.node.attributes;for(n=0,o=d.length;n<o;++n)/^data-/i.test(d[n].name)&&(i[d[n].name.substring(5)]=d[n].value);return i}if("object"==typeof t)for(n in t)this.attr("data-"+n,t[n]);else{if(void 0===e)return this.attr("data-"+t);this.attr("data-"+t,e)}return this},$._nodeMethods.val=function(t){return void 0===t?"checkbox"==this.node.type?this.node.checked:this.node.value:("checkbox"==this.node.type?this.node.checked=t:this.node.value=t,this)},$._nodeMethods.parent=function(){return $(this.node.parentNode)},$._nodeMethods.previous=function(){var t=this.node;do t=t.previousSibling;while(t&&1!=t.nodeType);return $(t)},$._nodeMethods.next=function(){var t=this.node;do t=t.nextSibling;while(t&&1!=t.nodeType);return $(t)},$._nodeMethods.append=function(t){var e=this.node;return $$(t).forEach(function(){e.appendChild(this.node)}),this},$._nodeMethods.prepend=function(t){var e=this.node,n=this.children()[0].node;return $$(t).forEach(function(){e.insertBefore(this.node,n)}),this},$._nodeMethods.before=function(t){var e=this.parent().node,n=this.node;return $$(t).forEach(function(){e.insertBefore(this.node,n)}),this},$._nodeMethods.after=function(t){var e=this.next();return e.node?e.before(t):this.parent().append(t)},$._nodeMethods.remove=function(){this.parent().node.removeChild(this.node)},$._nodeMethods.children=function(){return $$(this.node.children)},$._nodeMethods.addClass=function(t){return this.node.className+=" "+t,this},$._nodeMethods.hasClass=function(t){var e=new RegExp("(^|\\s)"+t+"($|\\s)");return e.test(this.node.className)},$._nodeMethods.removeClass=function(t){var e=new RegExp("(^|\\s)"+t+"($|\\s)");return this.node.className=this.node.className.replace(e," "),this},$._nodeMethods.getClasses=function(){var t=this.node.className.split(/\s+/);return t[0]?t:[]},$._nodeMethods.clearClasses=function(){return this.node.className="",this},$._nodeMethods.width=function(t){return void 0===t?this.node===window?W.getViewportWidth():this.node===document||this.node===document.documentElement||this.node===document.body?Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth):this.node.offsetWidth:(this.css("width",t+"px"),this)},$._nodeMethods.height=function(t){return void 0===t?this.node===window?W.getViewportHeight():this.node===document||this.node===document.documentElement||this.node===document.body?Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight):this.node.offsetHeight:(this.css("height",t+"px"),this)},$._nodeMethods.top=function(t){return void 0===t?this.node.offsetTop:(this.css("top",t+"px"),this)},$._nodeMethods.bottom=function(t){if(void 0===t){var e=this.css("bottom");return e?parseInt(e.replace(/[a-z]+/i,""),10):e}return this.css("bottom",t+"px"),this},$._nodeMethods.left=function(t){return void 0===t?this.node.offsetLeft:(this.css("left",t+"px"),this)},$._nodeMethods.right=function(t){if(void 0===t){var e=this.css("right");return e?parseInt(e.replace(/[a-z]+/i,""),10):e}return this.css("right",t+"px"),this},$._nodeMethods.clone=function(){return $(this.node.cloneNode(!0))},$._nodeMethods.on=function(t,e){t=t.split(" ");for(var n=0,o=t.length;n<o;++n)this.node.addEventListener?this.node.addEventListener(t[n],e,!1):this.node.attachEvent("on"+t[n],e);return this},$._nodeMethods.scrollTop=function(t){return this.node===window||this.node===document||this.node===document.documentElement||this.node===document.body?void 0!==t?(getScrollElement().scrollTop=t,this):getScrollElement().scrollTop:void 0!==t?(this.node.scrollTop=t,this):this.node.scrollTop},$._nodeMethods.scrollLeft=function(t){return this.node===window||this.node===document||this.node===document.documentElement||this.node===document.body?void 0!==t?(getScrollElement().scrollLeft=t,this):getScrollElement().scrollLeft:void 0!==t?(this.node.scrollLeft=t,this):this.node.scrollLeft},$._nodeMethods.getComputedStyle=function(t,e){var n=null;return this.node.currentStyle&&(n=this.node.currentStyle[t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})]),window.getComputedStyle&&(n=window.getComputedStyle(this.node).getPropertyValue(t)),e&&(n=parseFloat(n.replace(/[a-z]+$/,""))),n};