var $=window.quark.$,$$=window.quark.$$,s,scrollElement=function(){return s||(body.scrollTop+=1,s=body.scrollTop?body:html,body.scrollTop-=1),s},html,body;$(document).ready(function(){html=document.documentElement,body=document.body}),$._nodeMethods.css=function(t,e){var o=function(t){return t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})},n=function(t,e,n){if(e=o(e),"opacity"==e)try{t.filters["DXImageTransform.Microsoft.Alpha"].opacity=100*n}catch(i){try{t.filters("alpha").opacity=100*n}catch(s){t.style.opacity=n}}else t.style[e]=n},i=function(t,e){if(e=o(e),"opacity"==e)try{return t.filters["DXImageTransform.Microsoft.Alpha"].opacity/100}catch(n){try{return t.filters("alpha").opacity/100}catch(i){return t.style.opacity}}return t.style[e]||null};if("string"==typeof t)return void 0===e?i(this.node,t):(n(this.node,t,e),this);if("object"==typeof t){for(var s in t)n(this.node,s,t[s]);return this}},$._nodeMethods.html=function(t){return void 0===t?"IFRAME"==this.node.nodeName?this.node.src.substr(29):this.node.innerHTML:("IFRAME"==this.node.nodeName?this.node.src="data:text/html;charset=utf-8,"+encodeURI(t):this.node.innerHTML=t,this)},$._nodeMethods.text=function(t){return void 0===t?void 0!==this.node.innerText?this.node.innerText:this.node.textContent.replace(/^\s*(.+?)\s*$/,"$1"):(void 0!==this.node.innerText?this.node.innerText=t:this.node.textContent=t,this)},$._nodeMethods.attr=function(t,e){var o,n;if("string"==typeof t)return void 0===e?this.node.getAttribute(t):null===e?(this.node.removeAttribute(t),this):(this.node.setAttribute(t,e),this);if("object"==typeof t){for(n in t)this.node.setAttribute(o,t[n]);return this}},$._nodeMethods.data=function(t,e){var o;if(void 0===t){var n,i={},s=this.node.attributes;for(o=0,n=s.length;n>o;++o)/^data-/i.test(s[o].name)&&(i[s[o].name.substring(5)]=s[o].value);return i}if("object"==typeof t)for(o in t)this.attr("data-"+o,t[o]);else{if(void 0===e)return this.attr("data-"+t);this.attr("data-"+t,e)}return this},$._nodeMethods.val=function(t){return void 0===t?"checkbox"==this.node.type?this.node.checked:this.node.value:("checkbox"==this.node.type?this.node.checked=t:this.node.value=t,this)},$._nodeMethods.parent=function(){return $(this.node.parentNode)},$._nodeMethods.previous=function(){var t=this.node;do t=t.previousSibling;while(t&&1!=t.nodeType);return $(t)},$._nodeMethods.next=function(){var t=this.node;do t=t.nextSibling;while(t&&1!=t.nodeType);return $(t)},$._nodeMethods.append=function(t){var e=this.node;return $$(t).forEach(function(){e.appendChild(this.node)}),this},$._nodeMethods.prepend=function(t){var e=this.node,o=this.children()[0];return $$(t).forEach(function(){e.insertBefore(this.node,o)}),this},$._nodeMethods.before=function(t){var e=this.parent()[0],o=this.node;return $$(t).forEach(function(){e.insertBefore(this.node,o)}),this},$._nodeMethods.after=function(t){var e=this.next();return e.node?e.before(t):this.parent().append(t)},$._nodeMethods.remove=function(){this.parent().node.removeChild(this.node)},$._nodeMethods.children=function(){return $$(this.node.children)},$._nodeMethods.addClass=function(t){return this.node.className+=" "+t,this},$._nodeMethods.hasClass=function(t){var e=new RegExp("(^|\\s)"+t+"($|\\s)");return e.test(this.node.className)},$._nodeMethods.removeClass=function(t){var e=new RegExp("(^|\\s)"+t+"($|\\s)");return this.node.className=this.node.className.replace(e," "),this},$._nodeMethods.getClasses=function(t){return this.node.className.split(/\s+/)},$._nodeMethods.clearClasses=function(t){return this.node.className="",this},$._nodeMethods.width=function(t){return void 0===t?this.node===window?W.getViewportWidth():this.node===document||this.node===html||this.node===body?Math.max(body.scrollWidth,body.offsetWidth,html.clientWidth,html.scrollWidth,html.offsetWidth):this.node.offsetWidth:(this.css("width",t+"px"),this)},$._nodeMethods.height=function(t){return void 0===t?this.node===window?W.getViewportHeight():this.node===document||this.node===html||this.node===body?Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight):this.node.offsetHeight:(this.css("height",t+"px"),this)},$._nodeMethods.top=function(t){return void 0===t?this.node.offsetTop:(this.css("top",t+"px"),this)},$._nodeMethods.bottom=function(t){if(void 0===t){var e=this.css("bottom");return e?parseInt(e.replace(/[a-z]+/i,""),10):e}return this.css("bottom",t+"px"),this},$._nodeMethods.left=function(t){return void 0===t?this.node.offsetLeft:(this.css("left",t+"px"),this)},$._nodeMethods.right=function(t){if(void 0===t){var e=this.css("right");return e?parseInt(e.replace(/[a-z]+/i,""),10):e}return this.css("right",t+"px"),this},$._nodeMethods.clone=function(){return $(this.node.cloneNode(!0))},$._nodeMethods.on=function(t,e){t=t.split(" ");for(var o=0,n=t.length;n>o;++o)this.node.addEventListener?this.node.addEventListener(t[o],e,!1):this.node.attachEvent("on"+t[o],e);return this},$._nodeMethods.scrollTop=function(t){return this.node===window||this.node===document||this.node===html||this.node===body?void 0!==t?(scrollElement().scrollTop=t,this):scrollElement().scrollTop:void 0!==t?(this.node.scrollTop=t,this):this.node.scrollTop},$._nodeMethods.scrollLeft=function(t){return this.node===window||this.node===document||this.node===html||this.node===body?void 0!==t?(scrollElement().scrollLeft=t,this):scrollElement().scrollLeft:void 0!==t?(this.node.scrollLeft=t,this):this.node.scrollLeft},$._nodeMethods.getComputedStyle=function(t,e){var o=null;return this.node.currentStyle&&(o=this.node.currentStyle[t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})]),window.getComputedStyle&&(o=window.getComputedStyle(this.node).getPropertyValue(t)),e&&(o=parseFloat(o.replace(/[a-z]+$/,""))),o};
!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define(n):e[t]=n}(this,"W",function(){function e(){return"orientation"in window?window.orientation?"landscape":"portrait":r.clientWidth>r.clientHeight?"landscape":"portrait"}function t(t){var n,i,o,r,d=[{width:screen.availWidth,height:screen.availHeight},{width:window.outerWidth,height:window.outerHeight},{width:window.innerWidth,height:window.innerHeight}];if(/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&"landscape"==e()?(n=screen.height,i=screen.width,d[2].width=n):(n=screen.width,i=screen.height),t)return{width:n,height:i};for(o=0,r=d.length;r>o;++o)d[o].width>n||d[o].height>i||!d[o].width||!d[o].height?d[o].note=0:d[o].note=n-d[o].width+(i-d[o].height);return d.sort(function(e,t){return t.note-e.note}),{width:d[0].width,height:d[0].height}}var n,i,o,r=document.documentElement,d=[],h=!1,a=16;return window.addEventListener?"onorientationchange"in window?window.addEventListener("orientationchange",function(){h=!0},!1):window.addEventListener("resize",function(){h=!0},!1):window.attachEvent("onresize",function(){h=!0}),i=document.createElement("p"),i.style.position="absolute",i.style.textIndent="100%",i.style.whiteSpace="nowrap",i.style.overflow="hidden",i.style.color="transparent",i.innerHTML="W",r.appendChild(i),o=i.offsetWidth,setInterval(function(){if(n=i.offsetWidth,n!=o&&(h=!0),h&&r.clientWidth){a=o/n*a,o=n;for(var e=0,t=d.length;t>e;++e)d[e].func();h=!1}},10),{px2em:function(e){return e/a},getViewportWidth:function(e){return t(e).width},getViewportHeight:function(e){return t(e).height},getOrientation:function(){return e()},addListener:function(e,t){return d.push({func:e,key:t}),e},removeListener:function(e){for(var t=0,n=d.length;n>t;++t)if(d[t].key==e){d.splice(t,1);break}}}}());